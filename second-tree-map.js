var data=
{
"name": "Year 2016", "color": "#fff",
"children": [
              { "name": "Biology",
                  "color": "#D2D945",
                "children": [
                            { "name": "Botany",
                            "color": "#D2D945",
                            "children":[ ]},
                            { "name": "Agronomy",
                            "color": "#D2D945",
                            "children":[ {"name": "Horticulutre", "color": "#D2D945"}]},
                            { "name": "Medical Sciences","color": "#D2D945",
                            "children":[
                              {"name": "Immunology","color": "#D2D945"},
                              {"name": "Pathology","color": "#D2D945"},
                              {"name": "Virology","color": "#D2D945"},
                              {"name": "Surgery","color": "#D2D945"},
                              {"name:": "Anatomy","color": "#D2D945"},
                              {"name":"Cardiology","color": "#D2D945"}]},
                            { "name": "Genetics","color": "#D2D945",
                              "children": [] },
                            { "name": "Cancer Research", "color": "#D2D945"},
                              { "name": "Ecology", "color": "#D2D945",
                               "children":[
                                 {"name": "Evolutionary Ecology", "color": "#D2D945"},
                                 {"name": "Ecosystem dynamics", "color": "#D2D945"},
                                  {"name": "Waste Management", "color": "#D2D945"}]}]},
      {"name": "Physical Therapy", "color": "#cccccc"},

      { "name": "Computer Science", "color": "#04BBBF",
                "children":[
                  {"name": "Algorithms", "color": "#04BBBF"},
                  {"name": "Artificial intelligence","color": "#04BBBF",
                    'children': [
                        {"name": "Machine Learning", "color": "#04BBBF"},
                        {"name": "text mining", "color": "#04BBBF"},
                        {"name": "Computer Vision", "color": "#04BBBF"},
                        {"name": "Natural Language Processing", "color": "#04BBBF"},
                        {"name": "Robotics", "color": "#04BBBF"}]},
                  {"name": "Computer architecture", "color": "#04BBBF"},
                  {"name": "Computer graphics", "color": "#04BBBF"},
                  {"name":"Databases", "color": "#04BBBF"},
                  {"name": "Simulation", "color": "#04BBBF"}]},
      {"name": "Art", "color": "#cccccc"},
      { "name": "Physics", "color": "#FF594F",
                "children":[
                {"name": "Thermodynamics", "color": "#FF594F", "children": [{"name": "Statistical Mechanics", "color": "#FF594F"}]},
                {"name": "Quantum mechanics", "color": "#FF594F"},
                {"name": "Optics","color": "#FF594F", "children": [{"name": "Microscopy", "color": "#FF594F"}]},
                {"name": "Condensed matter physics", "color": "#FF594F"},
                {"name": "Classical Mechanics", "color": "#FF594F"},
                {"name": "Particle physics", "color": "#FF594F"}]},
      { "name": "Engineering", "color": "#FCB13F",
                "children":[
                {"name": "Forensic Engineering", "color": "#FCB13F", "children": [{"name": "Statistical Mechanics", "color": "#FCB13F"}]},
                {"name": "Electgrical Engineering" ,"color": "#FCB13F" },
                {"name": "Electronic Engineering", "color": "#FCB13F", "children": [{"name": "Microscopy", "color": "#FCB13F"}]},
                {"name": "Engineering Drawing", "color": "#FCB13F"},
                {"name": "Structural Engineering", "color": "#FCB13F"},
                {"name": "Telecommunications", "color": "#FCB13F"},
                {"name":"Environmental Engineering", "color": "#FCB13F"}]},
      { "name": "Mathematics", "color": "#cccccc",
                "children":[]},
      {"name":"Geography", "color": "#cccccc"},
      { "name": "Chemistry", "color": "#04bf66",
              "children":[
                {"name": "Organic Chemistry", "color": "#04bf66"},
                {"name": "Inorganic Chemistry", "color": "#04bf66"},
                {"name": "Stereochemistry", "color": "#04bf66"},
                {"name": "Analytical Chemistry", "color": "#04bf66"},
                {"name": "Biochemstry", "color": "#04bf66"}
              ]},
        {"name":"Law", "color": "#cccccc"},
        { "name": "Social Sciences", "color": "#045dbf",
                      "children":[
                        {"name": "Economics", "color": "#045dbf", "children": [{"name": "Financial Economics", "color": "#045dbf"}]},
                        {"name": "Political Science", "color": "#045dbf"},
                        {"name": "Psychology", "color": "#045dbf", "children": [{"name":"Social Psychology", "color": "#045dbf"}, {"name":"Developmental psychology", "color": "#045dbf"}, {"name":"Psychiatry", "color": "#045dbf"}]},
                        {"name": "Management", "color": "#045dbf", "children": [{"name": "Operation Management", "color": "#045dbf"}, {"name": "Accounting", "color": "#045dbf"}, {"name": "Human Resources", "color": "#045dbf"}]},
                        {"name": "Sociology", "color": "#045dbf"}
                      ]},


      {"name": "Physical Therapy", "color": "#cccccc"},

      {"name":"Public Health","color": "#cccccc", "children": [{"name": "Epidemiology", "color": "#cccccc"}]},
      {"name": "Earth Science", "color": "#dd5ad7", "children": [{"name": "Geology", "color": "#dd5ad7"}, {"name":"Climatology", "color": "#dd5ad7"}, {"name": "Meteorology", "color": "#dd5ad7"}]}

]}


// {
//  "name": "S/P RM",
//  "children": [
//
//   {
//    "name": "S/P Requisition Mgmt",
//    "children":[
//     {"name": "Select S/P"},
//     {"name": "Initiate S/P Requisition Order"},
//     {"name": "Determine S/P Prerequision Feasibility"},
//     {"name": "Report S/P Requisition"},
//     {"name": "Track/Manage S/P Requisition"},
//     {"name": "Close S/P Requisition Order"},
//     {"name": "Receive/Accept S/P Requisition"}
//
//    ]
//  },
//
//  {
//    "name": "S/P Problem Mgmt",
//    "children":[
//     {"name": "Initiate S/P Problem Report"},
//     {"name": "Report S/P Problem Resolution"},
//     {"name": "Receive S/P Problem Report"},
//     {"name": "Close S/P Problem Report"},
//     {"name": "Track/Manage S/P Problem Resolution"}
//
//
//    ]
//  },
//
//  {
//    "name": "S/P Perf Mgmt",
//    "children":[
//     {"name": "Initiate S/P Perf Degradation Report"},
//     {"name": "Close S/P Perf Degradation Report"},
//     {"name": "Track/Manage S/P Perf Resolution"},
//     {"name": "Monitor/Control S/P Performance"},
//     {"name": "Report S/P Performance"}
//
//    ]
//  },
//
//  {
//    "name": "S/P Payment Mgmt",
//    "children":[
//     {"name": "Manage Account"},
//     {"name": "Receive & Assess Invoice"},
//     {"name": "Negotiate & Approve Invoice"},
//     {"name": "Issue Settlement Notice & Payment"}
//
//
//    ]
//  },
//
// {
//    "name": "S/P Interface Mgmt",
//    "children":[
//     {"name": "Manage S/P Requests"},
//     {"name": "Analyze/Report S/P Interactions"},
//     {"name": "Mediate/Orchestrate S/P Interactions"}
//
//    ]
//  }
//
//
//
// ]
// }
//
//
//
//
//
// ]
//  };

var diameter = 1200;

var tree = d3.layout.tree()
    .size([360, diameter / 2 - 220])
    .separation(function(a, b) { return (a.parent == b.parent ? 1 : 1.5) / a.depth; });

var diagonal = d3.svg.diagonal.radial()
      .projection(function(d) { return [d.y, d.x / 180 * Math.PI]; });

var svg = d3.select("body").select("#tree")
    .attr("width", diameter)
    .attr("height", diameter - 60)
  .append("g")
    .attr("transform", "translate(" + diameter / 2 + "," + diameter / 2 + ")");
root = data;

  var nodes = tree.nodes(root),
      links = tree.links(nodes);

  nodes.forEach(function(d) { d.y = d.depth * 110; });


  var link = svg.selectAll(".link")
      .data(links)
    .enter().append("path")
      .attr("class", "link")
      .attr("d", diagonal);

  var node = svg.selectAll(".node")
      .data(nodes)
    .enter().append("g")
      .attr("class", "node")
      .attr("transform", function(d) { return "rotate(" + (d.x - 90) + ")translate(" + d.y + ")"; })

  node.append("circle")
      .attr("r", 7)
      // .style("stroke", function ()
      // .style("fill", function(d) { return d.color ? "lightsteelblue" : "#fff"; });
      .style("fill", function(d) { return d.color });


  node.append("text")
      .attr("dy", ".31em")
      .attr("text-anchor", function(d) { return d.x < 180 ? "start" : "end"; })
      .attr("transform", function(d) { return d.x < 180 ? "translate(8)" : "rotate(180)translate(-8)"; })
      .text(function(d) { return d.name; });
